<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="wx_pic" content="">
    <meta name="description" content="Mix周刊">
    <title>Mix周刊-Vol2</title>
    <link rel="stylesheet" href="/static/mix/css/frozen.css">
    <link rel="stylesheet" href="/static/mix/css/idangerous.swiper.css">
    <link rel="stylesheet" href="/static/mix/css/demo.css">
    <script src="/static/mix/js/jquery-2.1.1.min.js"></script>
    <script src="/static/mix/lib/zepto.min.js"></script>
    <script src="/static/mix/js/frozen.js"></script>


</head>

<body ontouchstart>

<section class="ui-container">

    <section id="grid">


        <magazine :list="weeks"></magazine>


    </section>


    <section class="history">
        <%if(length>1){%>
        <div class="demo-item part-3 ui-border-t">

            <div class="demo-block">
                <div class="ui-whitespace">

                    <h1 class="h1-text">Mix Review</h1>
                </div>

            </div>
        </div>


        <div class="swiper-container">
            <div class="swiper-wrapper">
                <%for(var i in data){%>
                <div class="swiper-slide red-slide" style="width:200px">
                    <div class="title">
                        <a href="<%= data[i].season_url %>&isMix=1&shareDisable=0"><img src="<%= data[i].season_img %>" width="100%" alt=""></a>
                    </div>
                </div>
                <%}%>

            </div>
            <div class="pagination"></div>
        </div>
        <%}else{%>

        <%}%>
    </section>


    <script>

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = '/static/mix/lib/zepto.min.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

        (function () {
            var po = document.createElement("script");
            po.type = "text/javascript";
            po.async = true;
            po.src = "/static/mix/js/frozen.js";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(po, s);
        })();


    </script>


</section><!-- /.ui-container-->

<template id="magazine-template">

    <a v-for="week in list" class="section-link" href="{{week.url}}">
        <div :class="['demo-item',week.part1? 'part-1':'part-2',week.part1? 'part-1':'ui-border-t']">
            <div class="demo-block">
                <ul class="ui-row ui-whitespace">
                    <img v-if="!week.scrolloading" src="{{week.headerSrc}}" style="vertical-align: middle" width="100%"
                         alt="">
                    <img v-if="week.scrolloading" class="scrollLoading" data-url="{{week.headerSrc}}"
                         src="/static/mix/images/s2/placeholder.png" style="vertical-align: middle" width="100%" alt=""
                         title="">

                </ul>
            </div>
            <div class="demo-block">
                <div class="ui-whitespace">

                    <h1 class="h1-text"><img src="{{week.titleSrc}}" class="h1-pic" alt="">{{week.title}}</h1>
                    <p class="ui-nowrap-multi">
                        {{week.p}}
                    </p>
                </div>
            </div>
        </div>
    </a>

</template>

</body>

<script src="/static/mix/js/vue.min.js"></script>
<script>
    Vue.component('magazine', {
        template: "#magazine-template",
        props: ['list']
    });
    var vm = new Vue({
        el: '#grid',
        data: {
            weeks: [
                {
                    url: '/mix/s2/page1.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: true,
                    scrolloading: false,
                    headerSrc: '/static/mix/images/s2/qingchun-header.png',
                    titleSrc: '/static/mix/images/s2/qingchun-title.png',
                    title: '九部非典型青春电影的谏言片语',
                    p: '长大后，这是个孤独的世界，幽灵的世界。因为，所有人都会变正常，只剩下我一个疯子。'
                },
                {
                    url: '/mix/s2/page2.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: false,
                    scrolloading: false,
                    headerSrc: '/static/mix/images/s2/nianhua-header.png',
                    titleSrc: '/static/mix/images/s2/nianhua-title.png',
                    title: '你的青春被狗吃了吗',
                    p: '在各种青春片中，男生女生的青春应该是酱紫的一段青春堕落史…'
                },
                {
                    url: '/mix/s2/page3.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: false,
                    scrolloading: true,
                    headerSrc: '/static/mix/images/s2/mili-header.png',
                    titleSrc: '/static/mix/images/s2/mili-title.png',
                    title: '生来就是B纸的青春电影海报',
                    p: '因为一张电影海报而爱上一部电影，也不是没有可能的事。'
                },
                {
                    url: '/mix/s2/page4.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: false,
                    scrolloading: true,
                    headerSrc: '/static/mix/images/s2/chunri-header.png',
                    titleSrc: '/static/mix/images/s2/chunri-title.png',
                    title: '三岛由纪夫的青春倦怠',
                    p: '所谓青春就是尚未得到某种东西的状态，就是渴望的状态，憧憬的状态，也是具有可能性的状态。'
                },
                {
                    url: '/mix/s2/page5.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: false,
                    scrolloading: true,
                    headerSrc: '/static/mix/images/s2/chunguang-header.png',
                    titleSrc: '/static/mix/images/s2/chunguang-title.png',
                    title: '站在这里的，应该是我们两个人',
                    p: '我终于来到了瀑布，突然间想起何宝荣，我觉得好难过，我始终认为，站在这里的，应该是我们两个人。'
                },
                {
                    url: '/mix/s2/page6.html?isMix=1&shareDisable=0&color=3c4535',
                    part1: false,
                    scrolloading: true,
                    headerSrc: '/static/mix/images/s2/zhijing-header.png',
                    titleSrc: '/static/mix/images/s2/zhijing-title.png',
                    title: '请回答系列到底回答了什么？',
                    p: '总觉得韩剧像是梦中的婚礼，美好但是戏剧化的遥不可及。当你觉得所有的青春都应该是以校服和校园...'
                },
            ]


        },
        ready: function () {
            jQuery.getScript("/static/mix/js/jquery.scrollLoading.js")
                    .done(function () {
                        /* 耶，没有问题，这里可以干点什么 */
                        //滚动异步加载图片
                        $(".scrollLoading").scrollLoading();
                        jQuery.getScript("/static/mix/js/idangerous.swiper-2.1.min.js")
                                .done(function () {
                                    /* 耶，没有问题，这里可以干点什么 */
                                    //滚动
                                    var mySwiper = new Swiper('.swiper-container', {
                                        pagination: '.pagination',
                                        paginationClickable: true,
                                        slidesPerView: 'auto'
                                    })


                                })
                                .fail(function () {
                                    console.log('js加载出错了');
                                });
                    })
                    .fail(function () {
                        console.log('js加载出错了');
                    });
        }
    })
</script>
<script type="text/javascript">
    function browserRedirect() {
        var sUserAgent = navigator.userAgent.toLowerCase();
        var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
        var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
        var bIsMidp = sUserAgent.match(/midp/i) == "midp";
        var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
        var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
        var bIsAndroid = sUserAgent.match(/android/i) == "android";
        var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
        var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
        if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
            return;
        } else {
            var b = '<h1>请用手机访问此链接</h1>';
            document.getElementsByTagName("body")[0].innerHTML = b;
        }
    }

    browserRedirect();
</script>

</html>